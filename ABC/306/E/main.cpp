#include <bits/stdc++.h>
using namespace std;
#define DPRINT(str) std::cout<<(#str)<< " = "<<str<<std::endl
#define PRINT(os, c)                              \
  do {                                            \
    os << "[ ";                                   \
    for (auto i = c.begin(); i != c.end(); i++) { \
      if (i != c.begin()) {                       \
        os << ", ";                               \
      }                                           \
      os << *i;                                   \
    }                                             \
    os << " ]";                                   \
    return os;                                    \
  } while (0)
#define PRINT_MAP(os, c)                          \
  do {                                            \
    os << "{ ";                                   \
    for (auto i = c.begin(); i != c.end(); i++) { \
      if (i != c.begin()) {                       \
        os << ", ";                               \
      }                                           \
      os << (*i).first << " => " << (*i).second;  \
    }                                             \
    os << " }";                                   \
    return os;                                    \
  } while (0)
#define PRINT_SET(os, c)                          \
  do {                                            \
    os << "( ";                                   \
    for (auto i = c.begin(); i != c.end(); i++) { \
      if (i != c.begin()) {                       \
        os << ", ";                               \
      }                                           \
      os << *i;                                   \
    }                                             \
    os << " )";                                   \
    return os;                                    \
  } while (0)

template <typename T>
std::ostream& operator<<(std::ostream& os, const std::vector<T>& c) {
  PRINT(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::deque<T>& c) {
  PRINT(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::list<T>& c) {
  PRINT(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::forward_list<T>& c) {
  PRINT(os, c);
}
template <typename T, typename U>
std::ostream& operator<<(std::ostream& os, const std::map<T,U>& c) {
  PRINT_MAP(os, c);
}
template <typename T, typename U>
std::ostream& operator<<(std::ostream& os, const std::multimap<T,U>& c) {
  PRINT_MAP(os, c);
}
template <typename T, typename U>
std::ostream& operator<<(std::ostream& os, const std::unordered_map<T,U>& c) {
  PRINT_MAP(os, c);
}
template <typename T, typename U>
std::ostream& operator<<(std::ostream& os, const std::unordered_multimap<T,U>& c) {
  PRINT_MAP(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::set<T>& c) {
  PRINT_SET(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::multiset<T>& c) {
  PRINT_SET(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::unordered_set<T>& c) {
  PRINT_SET(os, c);
}
template <typename T>
std::ostream& operator<<(std::ostream& os, const std::unordered_multiset<T>& c) {
  PRINT_SET(os, c);
}
template <typename T, typename U>
std::ostream& operator<<(std::ostream& os, const std::pair<T, U>& p) {
  os << "< " << p.first << ", " << p.second << " >";
  return os;
}
template<typename T, typename U>
std::pair<T,U> operator+(const std::pair<T,U>& l, const std::pair<T,U>& r){
  return {l.first+r.first, l.second+r.second};
}
template<typename T, typename U>
std::pair<T,U> operator-(const std::pair<T,U>& l, const std::pair<T,U>& r){
  return {l.first-r.first, l.second-r.second};
}
template<typename T, typename U>
std::pair<T,U> operator*(const std::pair<T,U>& l, const int n){
  return {l.first*n, l.second*n};
}
template<typename T, typename U>
std::pair<T,U> operator/(const std::pair<T,U>& l, const int n){
  return {l.first/n, l.second/n};
}
#define ll long long
#define ull unsigned long long
ll K;
ll f(map<ll,ll> cnt){
  ll ret = 0;
  ll c = K;
  auto it = cnt.rbegin();
  while(c){
    ll d = min((*it).second, c);
    c-=d;
    ret += d*(*it).first;
    it++;
  }
  return ret;
}

int main(void){
  ll N,Q;
  cin>>N>>K>>Q;
  vector<ll> A(N,0);
  multiset<ll> lower,upper;
  for(int i = 0;i< N;i++){
    if(i<K)upper.insert(0);
    else lower.insert(0);
  }
  ll ret = 0;
  for(int i = 0;i< Q;i++){
    ll x,y;
    cin>>x>>y;--x;
    if(upper.find(A[x]) != upper.end()){
      upper.erase(upper.find(A[x]));
      ret -= A[x];
      upper.insert(y);
      ret+=y;
    }else{
      lower.erase(lower.find(A[x]));
      lower.insert(y);
    }
    A[x]=y;
    if(lower.size()>0 && (*lower.rbegin())>(*upper.begin())){
    //    if( (*lower.rbegin())>(*upper.begin())){
      ll tmp = (*lower.rbegin());
      lower.erase(prev(lower.end()));
      upper.insert(tmp);
      ret+=tmp;
      tmp  = (*upper.begin());
      upper.erase(upper.begin());
      ret-=tmp;
      lower.insert(tmp);
    }
    //    DPRINT(A);
    //    DPRINT(lower);
    //    DPRINT(upper);

      

    cout<<ret<<endl;
    
  }
    
    
  return 0;
}
